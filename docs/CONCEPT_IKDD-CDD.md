# IKDD / CDD â€” Concept Document
> *A methodology for controlling context, not generating implementation*

---

## 1. Background â€” "The Problem of AI Breaking Implementation"

AI has become capable of generating code, but in reality, the following problems remain.

| Problem | Description |
|------|------|
| Semantic Drift | The more you request modifications or additions, the more intent deviates |
| Pulled by implementation | When you start writing HOW, WHY / WHAT collapses |
| Prompt bloat | "Explanation" â†’ "Example" â†’ "Prohibited conditions"... It keeps expanding and becomes unmaintainable |

To put it in perspective:

> Rather than "entrusting" AI with implementation,
> we are "delegating all judgment to AI."

---

## 2. IKDD: Instrumental Knowledge Driven Development
> **"Handle tools, not implementation."**

The core idea of IKDD:

> *Don't write HOW (implementation) in a single document.
> Separate it from WHY / WHAT and treat it as a reusable **tool (knowledge)**.*

---

### IKDD Structure

| File | Role |
|----------|------|
| `tool.yaml` | WHY / WHAT (intent, purpose, expected state) |
| `knowledge.yaml` | HOW (implementation components) |
| `generated/*.py` | Deterministic code generated by IKDD Runtime |

---

### What IKDD Solves

| Traditional LLM Code Generation | IKDD |
|------------------------|------|
| "Write code according to instructions" | "I'll give you intent and tools, so compose them" |
| AI infers | IKDD Runtime composes deterministically |
| Intent drifts | Intent is fixed in a file (tool.yaml) |
| Explain by showing examples | Define declaratively as knowledge |

---

## 3. CDD: Context Driven Design / Context Constraint Design

An idea born from IKDD as a foundation:

> **"Design context, not implementation."**

### Context = Framework for generating implementation

- "Designing Context" means
  - Ensuring AI doesn't freely infer
  - Designing **an unambiguous scope (framework)**

---

### Concept introduced by CDD: **Context Constraint**

Example:

```yaml
constraints:
  must_use: [CSV_LOAD, FILTER_ROWS, JSON_EXPORT]
  forbidden_imports: [pandas]
  immutable_params: [filter_column]
```

When you introduce CDD:

* "This implementation must use this tool"
* "This external dependency is forbidden"
* "This variable must not be changed"

You can define such **constraints to protect intent**.

---

## 4. What IKDD Runtime Provides

| Element                      | Description                                   |
| ----------------------- | ------------------------------------ |
| `tool.yaml` â†’ Declare implementation composition   | Write only WHAT/WHY. Don't write HOW             |
| `knowledge.yaml` â†’ Tools   | Reusable components (snippet/few-shot)           |
| `IKDD Runtime` â†’ Deterministic generation | Deterministic code generation without using AI |

Flow definition (example):

```yaml
flow:
  - step: CSV_LOAD
    input: [csv_file]
    output: rows

  - step: FILTER_ROWS
    input: [rows, threshold]
    output: filtered

  - step: JSON_EXPORT
    input: [filtered, json_file]
    output:
```

---

## 5. Essence of IKDD / CDD

> **Fix intent (WHY/WHAT) and make implementation (HOW) replaceable.**

This is similar to **abstraction** like OOP, but there's a critical difference.

| OOP            | IKDD            |
| -------------- | --------------- |
| Express abstraction in programming | Declare abstraction in YAML   |
| Maintain abstraction during implementation      | Runtime composes implementation |
| "Implementer" maintains abstraction    | "Framework" maintains abstraction       |

---

## 6. Core Value of IKDD

* Implementation is reusable as knowledge
* Intent (WHY/WHAT) is persisted in tool.yaml
* CDD makes it **resilient to changes**

> **Design context and tools, not implementation.**

---

## 7. Roadmap (IKDD / CDD Runtime Development)

| Version | Status | Content (Purpose) |
|----------|--------|--------------|
| âœ… v0.1 â€” Deterministic Code Generator | Done | **Deterministic code generation** via `flow + knowledge + codegen` (LLM-independent / snippet paste approach) |
| âœ… v0.2 â€” Hybrid AI Codegen + CDD | Done | **WHY/WHAT (intent) Ã— HOW (knowledge snippet) Ã— CDD (constraints)** â†’ AI-generated implementation. `must / forbidden / immutable` constraint checking implemented |
| ðŸ§ª v0.3 â€” Semantic Type (optional) + Static Validation | Planned | When semantic types are added to definitions, intent and data flow consistency is verified, ensuring reproducibility |
| ðŸ” v0.4 â€” Knowledge Versioning / Reuse | Future | Snippet improvements â†’ Automatic diff management. **Knowledge base that learns and grows** |
| ðŸ”„ v0.5 â€” Multi-Provider Enhancement | Future | Support for more LLM providers (full OpenAI implementation, Gemini, Claude, etc.) |
| ðŸŒ v1.0 â€” Full IKDD / CDD | Vision | Humans **write intent (WHY/WHAT)** â†’ AI **generates implementation (HOW)**. Runtime **prevents deviation** |

---

### Evolution Image of IKDD Runtime

> **v0.1 is a "template formatting engine"**
> **v0.2 and beyond is an "engine that converts intent to implementation"**

| Phase | Role |
|----------|------|
| v0.1 | Just deterministically paste snippets |
| v0.2 | Snippets are "hints", AI infers and generates code. CDD constraint checking implemented |
| v0.3 | Verify intent and data flow consistency through types |
| v0.4 | Knowledge grows / version management |
| v0.5 | Support for more LLM providers |

---

### One-sentence summary

**v0.1 is "mechanical template conversion"**
**From v0.2, "AI implements within constraint scope"**

---

## 8. IKDD / CDD in One Word

> **Not a template to control AI.
> A "design methodology" that fixes intent and context.**

```
Designer â†’ Design Context (framework)
Runtime â†’ Generate implementation deterministically
AI â†’ (Optionally) Can be used to generate knowledge
```

---

### Changes Brought by IKDD

| Before       | After (IKDD/CDD)            |
| ------------ | --------------------------- |
| Ask AI to implement | Place AI **under tool management**          |
| Implementation role         | **Context designer**             |
| Inference-based     | **Composition-based (deterministic)** |

---

> **IKDD creates an era of "handling AI" from an era of "leaving it to AI".**

```
Implementation â†’ Knowledge
Prompt â†’ Context
Code â†’ Composition
```

---

```
Author: pikovolt
IKDD Runtime / IKDD / CDD Concept Document
License: MIT
```
